# Synthetic Test Fixtures

This directory contains synthetic (generated) test fixtures for CI/CD testing.
These fixtures are intentionally minimal to keep the repository small.

## Purpose

- Provide lightweight test data for e2e pipeline testing
- Avoid including real character cards (which may be NSFW or large)
- Enable hermetic, reproducible tests in CI environments

### Tier 1: Basic Fixtures (CI-Safe)

| Path | Format | Spec | Description |
|------|--------|------|-------------|
| `basic/png/baseline_v3_small.png` | png | v3 | V3 card with embedded icon |
| `basic/json/hybrid_format_v2.json` | json | v2 | V2 JSON with lorebook |
| `basic/charx/baseline_v3_small.charx` | charx | v3 | V3 CharX ZIP package |
| `basic/voxta/character_only_small.voxpkg` | voxta | v3 | Minimal Voxta package |

### Tier 2: Extended Fixtures (Asset Tests)

| Path | Format | Spec | Description |
|------|--------|------|-------------|
| `extended/charx/v3_many_assets_01.charx` | charx | v3 | V3 CharX with 5 assets |

## Generation

These fixtures are generated by `generate.ts`. To regenerate:

```bash
npx tsx test-fixtures/generate.ts
```

## Usage in Tests

Set `CF_FIXTURES_DIR` to point to this directory:

```bash
export CF_FIXTURES_DIR=./test-fixtures
npm run test
```

Or skip fixture tests if unavailable:

```bash
export CF_ALLOW_MISSING_FIXTURES=1
npm run test
```

## File Sizes

All fixtures are designed to be < 5KB each to minimize repository size.
